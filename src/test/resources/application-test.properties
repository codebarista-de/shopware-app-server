# allow bean overriding to use @TestConfiguration to replace beans in test context
spring.main.allow-bean-definition-overriding = true

spring.datasource.driver-class-name = org.sqlite.JDBC
spring.datasource.url = jdbc:sqlite:file:testdatabase.db?mode=memory&cache=shared
spring.jpa.database-platform = org.hibernate.community.dialect.SQLiteDialect
# Liquibase is used as schema manager (database creation, update...)
spring.jpa.hibernate.ddl-auto = none
# SQLite cannot handle multiple connections
spring.datasource.hikari.maximum-pool-size = 1
# Timeout for getting a connection from the pool
spring.datasource.hikari.connection-timeout = 5000
# https://github.com/xerial/sqlite-jdbc/blob/master/src/main/java/org/sqlite/SQLiteConfig.java#L376
spring.datasource.hikari.data-source-properties.foreign_keys = true
spring.datasource.hikari.data-source-properties.busy_timeout = 5000
spring.datasource.hikari.data-source-properties.journal_mode = WAL
spring.liquibase.change-log = classpath:db/changelog/db.changelog-master.xml

logging.level.de.codebarista.shopware = DEBUG